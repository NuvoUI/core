// _shadows.scss
@use 'sass:map';
@use 'sass:math';
@use 'sass:string';
@use './variables' as VAR;

// Shadow Variables
$shadow-colors: (
  'default': rgb(0 0 0 / 10%),
  'dark': rgb(0 0 0 / 20%),
  'darker': rgb(0 0 0 / 35%),
  'darkest': rgb(0 0 0 / 50%),
);

$shadow-sizes: (
  'sm': (
    'x': 0,
    'y': 1px,
    'blur': 2px,
    'spread': 0
  ),
  'md': (
    'x': 0,
    'y': 4px,
    'blur': 6px,
    'spread': -1px
  ),
  'lg': (
    'x': 0,
    'y': 10px,
    'blur': 15px,
    'spread': -3px
  ),
  'xl': (
    'x': 0,
    'y': 20px,
    'blur': 25px,
    'spread': -5px
  ),
  'hero': (
    'x': 0,
    'y': 20px,
    'blur': 25px,
    'spread': 5px
  ),
  'monster': (
    'x': 0,
    'y': 20px,
    'blur': 55px,
    'spread': 20px
  )
);

// Shadow Mixins
@mixin shadow-base($x, $y, $blur, $spread, $color) {
  transition: box-shadow 0.2s ease-in-out;
  box-shadow: $x $y $blur $spread $color;
}

@mixin shadow($size: 'md', $color: 'default') {
  @if not map.has-key($shadow-sizes, $size) {
    @warn "Shadow size '#{$size}' not found in $shadow-sizes map";
    $size: 'md'; // Fallback to default
  }
  @if not map.has-key($shadow-colors, $color) {
    @warn "Shadow color '#{$color}' not found in $shadow-colors map";
    $color: 'default'; // Fallback to default
  }

  $shadow: map.get($shadow-sizes, $size);
  $shadow-color: map.get($shadow-colors, $color);
  @include shadow-base(
    map.get($shadow, 'x'),
    map.get($shadow, 'y'),
    map.get($shadow, 'blur'),
    map.get($shadow, 'spread'),
    $shadow-color
  );
}

@mixin shadow-inset($size: 'md', $color: 'default') {
  $shadow: map.get($shadow-sizes, $size);
  $shadow-color: map.get($shadow-colors, $color);
  
  box-shadow: inset map.get($shadow, 'x') map.get($shadow, 'y') 
             map.get($shadow, 'blur') map.get($shadow, 'spread') 
             $shadow-color;
}

// Utility Classes
.shadow-none {
  box-shadow: none !important;
}

@each $size, $values in $shadow-sizes {
  .shadow-#{$size} {
    @include shadow($size);
  }
  
  .shadow-#{$size}-dark {
    @include shadow($size, 'dark');
  }
  
  .shadow-inset-#{$size} {
    @include shadow-inset($size);
  }


  // hover shadows
  .hover\:shadow-#{$size}:hover {
    @include shadow($size);
  }
  
  .hover\:shadow-#{$size}-dark:hover {
    @include shadow($size, 'dark');
  }
  
  .hover\:shadow-inset-#{$size}:hover {
    @include shadow-inset($size);
  }
  

  // focus shadows
  .focus\:shadow-#{$size}:hover {
    @include shadow($size);
  }
  
  .focus\:shadow-#{$size}-dark:hover {
    @include shadow($size, 'dark');
  }
  
  .focus\:shadow-inset-#{$size}:hover {
    @include shadow-inset($size);
  }
}

// Active variants
@each $size, $values in $shadow-sizes {
  .active\:shadow-#{$size}:active {
    @include shadow($size);
  }
}

// Responsive variants
@each $breakpoint, $width in VAR.$breakpoints {
  @media (min-width: #{$width}) {
    // Regular shadows with breakpoints
    @each $size, $values in $shadow-sizes {
      .shadow-#{$size}\@#{$breakpoint} {
        @include shadow($size);
      }
      
      // Hover shadows with breakpoints
      .hover\:shadow-#{$size}\@#{$breakpoint}:hover {
        @include shadow($size);
      }
      
      // Focus shadows with breakpoints
      .focus\:shadow-#{$size}\@#{$breakpoint}:focus {
        @include shadow($size);
      }
    }
  }
}

@for $i from 1 through 5 {
  .elevation-#{$i} {
    @if $i == 1 {
      @include shadow('sm');
    } @else if $i == 2 {
      @include shadow('md');
    } @else if $i == 3 {
      @include shadow('lg');
    } @else if $i == 4 {
      @include shadow('xl');
    } @else if $i == 5 {
      @include shadow('monster');
    }
    z-index: $i;
  }
}